# Docker

---

### 1. Docker의 개념

**Docker**는 컨테이너 기반의 오픈소스 가상화 플렛폼이다. 다양한 프로그램, 실행 환경을 **컨테이너를 통해 추상화하고 동일한 인터페이스를 제공하여 배포 및 관리를 단순하게 만든다.**

조립PC, AWS, Google Cloud 등 다양한 환경에서 실행시킬 수 있다.

### 2. 컨테이너가 무엇일까

Softwear를 실행시키기 위해서는 OS, Library를 포함 Software가 필요로 하는 파일 등으로 구성된 실행환경이 필요하다. 그러나 하나의 시스템 위에서 둘 이상의 Softwrae를 동시에 실행하려고 한다면 문제가 발생할 수 있다.  

예를 들어서 A, B 두 프로그램이 동일한 Library를 사용하지만 서로 다른 버전을 필요로 하는 경우거나, 두 프로그램의 운영체제가 다를 경우 다양한 문제가 발생한다. 이에 대한 간단한 해결책은 무식하지만 A와 B에 맞는 여러개의 시스템을 각각 준비하는 것이다. 그러나 시스템을 각각 준비하게되면 엄청난 양의 돈이 들것이며 10개 이상이면 그만한 시스템을 구현하는 것은 효율적이지 못하다.

이때, **컨테이너**는 개별 Software의 실행에 필요한 실행환경을 독립적으로 운용할 수 있도록 기반 환경 또는 다른 실행 환경과의 간섭을 막고 **실헹의 독립성을 확보해주는 운영체계 수준의 격리 기술**을 말한다.

컨테이너는 실제 구동 환경으로부터 **추상화** 할 수 있는 논리 패키징 메커니즘을 제공한다.

### 3. 가상머신과 컨테이너

우리가 익숙한 가상머신(VM)은 우리가 사용하는 호스트 OS인 Linux, Windows위에 가상화를 위한 엔진인 Hypervisor를 올린뒤 게스트 OS로 프로그램 환경에 맞는 OS를 올린뒤 프로그램에 필요한 라이브러리를 포함한 패키지가 올라가게된다. 이는 호스트OS와는 완전히 분리되는 장점은 있으나 때문에 여러 OS를 돌려야해 무겁고 느리다.

그러나, 컨테이너 기반의 가상화는 Docker engine위에 Application에 필요한 라이브러리와 바이너리만 올려 호스트 OS와 Docker엔진 바로위에서 동작하여 Host의 커널을 공유한다. 즉 커널을 공유하여 io처리나 여러 면에서 효율적이고 빠르다.

![스크린샷 2021-02-09 오후 3.48.10](/Users/seogeonhui/Library/Application Support/typora-user-images/스크린샷 2021-02-09 오후 3.48.10.png)

위 사진을 참고하면 편하다.

컨테이너가 OS가상화보다 좋다 라고 말했지만 그렇다고 OS가상화가 안좋은건 아니다. OS가상화는 컨테이너보다 높은 레벨의 격리를 지원하는데 때문에 커널을 공유하지 않는다. 즉 멀티 OS가 가능하다는 뜻이다. 이말은 컨테이너는 Window 위에 Linux를 올리거나 그 반대의 경우를 할 수 없다.

### 4. Docker Image

Docker Image란 필요한 프로그램, 라이브러리, 소스 등을 설치한 뒤에 이를 파일로 쉽게 말해서 우리가 어떠한 프로그램을 다운 받았을때 사전 setting을 해주는 installer와 비슷한 역할을 한다. 또한 이 image가 실행됬을때 그상태가 바로 컨테이너이다. 

---

