# DNS(Domain Name System)?

---

### 1. DNS란?

**DNS(Domain Name System)**은 쉽게말해 인터넷 전화번호부이다. 우리 사람은 google.com이나 naver.com과 같은 이름을 통해 온라인에서 정보를 가져오거나 읽는다.

웹브라우저는 전에도 알아봤듯 IP주소로 인터넷의 리소스를 가져온다. 이때 DNS는 도메인 네임을 IP주소로 변환하여 인터넷의 리소스를 가져온다.

인터넷은 연결된 각 기기들끼리 서로 통신하기 위한 고유 IP주소가 있다. DNS 서버를 사용하면 사람이 192.168.1.1(IPv4의 경우)과 같은 IP주소 또는 2400:aaaa:bbbb:4444:1111:ffff와같은 IPv6의 IP주소를 기억하지 않아도 된다.

### 2. DNS의 작동방식

**1. DNS 재귀 확인자(DNS리쿼서)**

![스크린샷 2021-02-03 오전 12.19.11](/Users/seogeonhui/Library/Application Support/typora-user-images/스크린샷 2021-02-03 오전 12.19.11.png)

재귀 확인자는 DNS쿼리에서 첫번째 경유점이다. 재귀 확인자는 웹 어플리케이션으로 부터 DNS쿼리를 수신받아 캐시된 데이터를 응답해주거나, Root로 보내고 TLD로 최종적으로 권한있는 네임서버로 보내 웹어플리케이션으로 응답해주는 역할을 한다.

재귀 확인자는 권한 있는 네임서버로부터 받은 정보를 캐시한다. 한 클라이언트가 다른 클라이언트가 최근에 요청한 도메인 이름의 IP주소를 요청하면, 확인자는 캐시에서 찾아 클라이언트로 전달할 수 있다.

대부분의 사용자는 ISP의 재귀 확인자를 이용한다.

**2. DNS루트 네임 서버**

![스크린샷 2021-02-03 오전 12.25.41](/Users/seogeonhui/Desktop/스크린샷 2021-02-03 오전 12.25.41.png)

루트 네임 서버는 DNS 레코드 검색 중 첫번째이다. 

루트 서버는 도메인 이름을 포함한 재귀 확인자의 쿼리를 수용하며, 루트 네임서버는 해당 도메인의 확장자에 따라 재귀 확인자를 TLD 네임서버에 보내 응답한다.

**3. TLD 네임 서버**

![스크린샷 2021-02-03 오전 12.28.17](/Users/seogeonhui/Library/Application Support/typora-user-images/스크린샷 2021-02-03 오전 12.28.17.png)

TLD네임 서버느 URL가장 마지막 점 뒤에 오는 ".com, .net"등과 같은 확장자를 고유하는 모든 도메인 이름에 대한 정보를 유지한다. .com으로 끝나는 TLD네임 서버는 .com으로 끝나는 모든 웹사이트의 정보가 포함된다.

예를 들자면, google.com을 검색할 경우 루트 서버로부터 응답 받은 재귀 확인자는 .comTLD네임 서버로 쿼리를 보내 해당 도메인의 권한 있는 네임서버를 가리키는 방식으로 응답한다.

**4. 권한 있는 네임서버**

![스크린샷 2021-02-03 오전 12.31.54](/Users/seogeonhui/Library/Application Support/typora-user-images/스크린샷 2021-02-03 오전 12.31.54.png)

재귀확인자가 TLD네임서버로부터 응답을 받으면, 확인자는 해당 응답을 권한있는 네임서버로 보내고, 일반적으로 IP주소를 찾는 마지막 단계를 시작한다.

권한있는 네임서버는 도메인 이름에 고유한 정보를 포함하며 DNS A레코드에서 찾은 도메인의 IP주소를 재귀 확인자에 제공하거나 도메인의 별칭이 있는경우 완전히 새로운 DNS조회를 수행한다.

---

